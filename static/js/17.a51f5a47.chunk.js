(this["webpackJsonpcms-admin-developh"]=this["webpackJsonpcms-admin-developh"]||[]).push([[17],{617:function(e,t,a){"use strict";t.a={domain:"https://damp-river-04072.herokuapp.com",METHOD:{GET:"get",POST:"post",PUT:"put",DELETE:"delete"},limit:10}},618:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(615),r=a.n(n),c=a(616),u=a(156),s=a(157),o=a(624),i=a.n(o),l=null,p=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"startRequest",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,u,s,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>3&&void 0!==o[3]?o[3]:"",e.prev=1,u=localStorage.getItem("access_token")||"",i.a.defaults.headers.common["Content-Type"]="application/json",e.next=6,i()({method:t,url:a,data:n,params:c,headers:{authorization:"Bearer ".concat(u)}});case 6:return s=e.sent,e.abrupt("return",s.data);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return null==l&&(l=new e),l}}]),e}()},630:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(615),r=a.n(n),c=a(616),u=a(156),s=a(157),o=a(617),i=a(618),l=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,null,[{key:"getListSubject",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(o.a.METHOD.GET,"".concat(o.a.domain,"/api/subjects/all"),{},t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSubjectById",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(o.a.METHOD.GET,"".concat(o.a.domain,"/api/subjects/get/").concat(t),{});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSubject",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(o.a.METHOD.POST,"".concat(o.a.domain,"/api/subjects/create"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSubject",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(o.a.METHOD.PUT,"".concat(o.a.domain,"/api/subjects/update/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteSubject",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(o.a.METHOD.DELETE,"".concat(o.a.domain,"/api/subjects/").concat(t),{});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},695:function(e,t,a){"use strict";a.r(t);var n=a(159),r=a(105),c=a(615),u=a.n(c),s=a(616),o=a(621),i=a(1),l=a.n(i),p=a(619),m=a(620),d=a(19),f=a(623),h=(a(622),a(630));t.default=function(){var e=Object(d.g)(),t=Object(d.i)().id,a=Object(i.useState)({}),c=Object(o.a)(a,2),b=c[0],v=c[1],g=Object(i.useState)({loadingGet:!1,loadingUpdate:!1}),E=Object(o.a)(g,2),O=E[0],j=E[1];Object(i.useEffect)((function(){(function(){var e=Object(s.a)(u.a.mark((function e(){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({loadingUpdate:!1,loadingGet:!0}),e.prev=1,e.next=4,h.a.getSubjectById(t);case 4:(a=e.sent)&&a.data&&(n=a.data,r=n.name,c=n.description,v({name:r,description:c})),j({loadingUpdate:!1,loadingGet:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),T(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var k=function(e){var t=e.target,a=t.name,c=t.value;v(Object(r.a)(Object(r.a)({},b),{},Object(n.a)({},a,c)))},y=function(){var a=Object(s.a)(u.a.mark((function a(){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=b.name,r=b.description,n&&r){a.next=4;break}return T("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea9y \u0111\u1ee7 th\xf4ng tin.",!1),a.abrupt("return");case 4:return j({loadingUpdate:!0,loadingGet:!1}),a.prev=5,a.next=8,h.a.updateSubject(t,b);case 8:T("Th\xe0nh c\xf4ng",!0),e.push("/classrooms/subject"),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(5),j({loadingUpdate:!1,loadingGet:!1}),T(a.t0.response.data.message,!1);case 16:case"end":return a.stop()}}),a,null,[[5,12]])})));return function(){return a.apply(this,arguments)}}(),T=function(e,t){t?f.b.success(e,{position:f.b.POSITION.BOTTOM_RIGHT,autoClose:2e3}):f.b.error(e,{position:f.b.POSITION.BOTTOM_RIGHT,autoClose:2e3})};return l.a.createElement(l.a.Fragment,null,l.a.createElement(p.O,null,l.a.createElement(p.k,{xs:"12",lg:"12"},l.a.createElement(p.f,null,l.a.createElement(p.j,null,l.a.createElement("strong",null,"C\u1eadp nh\u1eadt th\xf4ng tin")),l.a.createElement(p.g,{className:"text-center"},O.loadingGet?l.a.createElement(p.X,{style:{width:"4rem",height:"4rem"},color:"info"}):l.a.createElement(p.v,{action:"",method:"post",className:"form-horizontal text-left"},l.a.createElement(p.w,{row:!0},l.a.createElement(p.k,{md:"3"},l.a.createElement(p.G,{htmlFor:"name"},"T\xean m\xf4n h\u1ecdc ",l.a.createElement("span",{style:{color:"red"}},"*"))),l.a.createElement(p.k,{xs:"12",md:"9"},l.a.createElement(p.B,{type:"text",id:"name",name:"name",value:b.name||"",onChange:k,placeholder:"Nh\u1eadp t\xean m\xf4n h\u1ecdc..."}))),l.a.createElement(p.w,{row:!0},l.a.createElement(p.k,{md:"3"},l.a.createElement(p.G,{htmlFor:"description"},"M\xf4 t\u1ea3 ",l.a.createElement("span",{style:{color:"red"}},"*"))),l.a.createElement(p.k,{xs:"12",md:"9"},l.a.createElement(p.B,{id:"description",name:"description",value:b.description||"",onChange:k}))))),l.a.createElement(p.h,null,O.loadingUpdate?l.a.createElement(p.e,{className:"float-right",color:"primary",disabled:O.loadingUpdate},"...Loading"):l.a.createElement(p.e,{className:"float-right",type:"submit",color:"primary",onClick:y},l.a.createElement(m.a,{name:"cil-scrubber"})," C\u1eadp nh\u1eadt"))))))}}}]);
//# sourceMappingURL=17.a51f5a47.chunk.js.map