(this["webpackJsonpcms-admin-developh"]=this["webpackJsonpcms-admin-developh"]||[]).push([[12],{617:function(e,t,a){"use strict";t.a={domain:"https://damp-river-04072.herokuapp.com",METHOD:{GET:"get",POST:"post",PUT:"put",DELETE:"delete"},limit:10}},619:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(615),r=a.n(n),c=a(616),o=a(156),s=a(157),u=a(625),l=a.n(u),m=null,i=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,[{key:"startRequest",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,o,s,u=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=u.length>3&&void 0!==u[3]?u[3]:"",e.prev=1,o=localStorage.getItem("access_token")||"",l.a.defaults.headers.common["Content-Type"]="application/json",e.next=6,l()({method:t,url:a,data:n,params:c,headers:{authorization:"Bearer ".concat(o)}});case 6:return s=e.sent,e.abrupt("return",s.data);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return null==m&&(m=new e),m}}]),e}()},628:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(615),r=a.n(n),c=a(616),o=a(156),s=a(157),u=a(617),l=a(619),m=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"getListStudent",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().startRequest(u.a.METHOD.GET,"".concat(u.a.domain,"/api/students/all"),{},t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getStudentByUsername",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().startRequest(u.a.METHOD.GET,"".concat(u.a.domain,"/api/students/get/").concat(t),{});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"createStudent",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().startRequest(u.a.METHOD.POST,"".concat(u.a.domain,"/api/students/create"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStudent",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().startRequest(u.a.METHOD.PUT,"".concat(u.a.domain,"/api/students/update/").concat(t),a);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"banStudent",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.getInstance().startRequest(u.a.METHOD.DELETE,"".concat(u.a.domain,"/api/students/").concat(t),{});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},690:function(e,t,a){"use strict";a.r(t);var n=a(159),r=a(105),c=a(615),o=a.n(c),s=a(616),u=a(622),l=a(1),m=a.n(l),i=a(618),d=a(620),p=a(19),h=a(624),f=(a(623),a(628));t.default=function(){var e=Object(p.g)(),t=Object(p.i)().username,a=Object(l.useState)({}),c=Object(u.a)(a,2),E=c[0],b=c[1],v=Object(l.useState)({loadingGet:!1,loadingUpdate:!1}),g=Object(u.a)(v,2),k=g[0],O=g[1];Object(l.useEffect)((function(){(function(){var e=Object(s.a)(o.a.mark((function e(){var a,n,r,c,s,u,l,m,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O({loadingUpdate:!1,loadingGet:!0}),e.prev=1,e.next=4,f.a.getStudentByUsername(t);case 4:(a=e.sent)&&a.data&&(n=a.data,r=n.username,c=n.email,s=a.data.info,u=s.name,l=s.facebook,m=s.school,i=s.address,d=s.phone_number,b({username:r,email:c,name:u,facebook:l,school:m,address:i,phone_number:d})),O({loadingUpdate:!1,loadingGet:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),x(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]);var w=function(e){var t=e.target,a=t.name,c=t.value;b(Object(r.a)(Object(r.a)({},E),{},Object(n.a)({},a,c)))},y=function(){var t=Object(s.a)(o.a.mark((function t(){var a,n,r,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=E.username,n=E.email,r=E.address,c=E.name,s=E.phone_number,a&&n&&r&&c&&s){t.next=4;break}return x("Vui l\xf2ng \u0111i\u1ec1n \u0111\u1ea9y \u0111\u1ee7 th\xf4ng tin.",!1),t.abrupt("return");case 4:return O({loadingUpdate:!0,loadingGet:!1}),t.prev=5,t.next=8,f.a.updateStudent(a,E);case 8:x("Th\xe0nh c\xf4ng",!0),e.push("/students"),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(5),O({loadingUpdate:!1,loadingGet:!1}),x(t.t0.response.data.message,!1);case 16:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(){return t.apply(this,arguments)}}(),x=function(e,t){t?h.b.success(e,{position:h.b.POSITION.BOTTOM_RIGHT,autoClose:2e3}):h.b.error(e,{position:h.b.POSITION.BOTTOM_RIGHT,autoClose:2e3})};return m.a.createElement(m.a.Fragment,null,m.a.createElement(i.O,null,m.a.createElement(i.k,{xs:"12",lg:"12"},m.a.createElement(i.f,null,m.a.createElement(i.j,null,m.a.createElement("strong",null,"C\u1eadp nh\u1eadt th\xf4ng tin")),m.a.createElement(i.g,{className:"text-center"},k.loadingGet?m.a.createElement(i.X,{style:{width:"4rem",height:"4rem"},color:"info"}):m.a.createElement(i.v,{action:"",method:"post",className:"form-horizontal text-left"},m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"email"},"Email ",m.a.createElement("span",{style:{color:"red"}},"*"))),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{type:"email",id:"email",name:"email",disabled:!0,value:E.email||"",onChange:w,placeholder:"Enter Email...",autoComplete:"email"}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"username"},"T\xean \u0111\u0103ng nh\u1eadp ",m.a.createElement("span",{style:{color:"red"}},"*"))),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{id:"username",name:"username",disabled:!0,value:E.username||"",onChange:w}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"name"},"H\u1ecd v\xe0 t\xean ",m.a.createElement("span",{style:{color:"red"}},"*"))),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{id:"name",name:"name",onChange:w,value:E.name||""}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"address"},"\u0110\u1ecba ch\u1ec9 ",m.a.createElement("span",{style:{color:"red"}},"*"))),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{id:"address",name:"address",onChange:w,value:E.address||""}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"phone_number"},"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i ",m.a.createElement("span",{style:{color:"red"}},"*"))),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{type:"number",id:"phone_number",name:"phone_number",value:E.phone_number||"",onChange:w}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"facebook"},"Facebook ")),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{type:"text",id:"facebook",name:"facebook",value:E.facebook||"",onChange:w}))),m.a.createElement(i.w,{row:!0},m.a.createElement(i.k,{md:"3"},m.a.createElement(i.G,{htmlFor:"school"},"Tr\u01b0\u1eddng h\u1ecdc")),m.a.createElement(i.k,{xs:"12",md:"9"},m.a.createElement(i.B,{type:"text",id:"school",name:"school",value:E.school||"",onChange:w}))))),m.a.createElement(i.h,null,k.loadingUpdate?m.a.createElement(i.e,{className:"float-right",color:"primary",disabled:k.loadingUpdate},"...Loading"):m.a.createElement(i.e,{className:"float-right",type:"submit",color:"primary",onClick:y},m.a.createElement(d.a,{name:"cil-scrubber"})," C\u1eadp nh\u1eadt"))))))}}}]);
//# sourceMappingURL=12.e24d4470.chunk.js.map