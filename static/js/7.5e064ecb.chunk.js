(this["webpackJsonpcms-admin-developh"]=this["webpackJsonpcms-admin-developh"]||[]).push([[7],{620:function(e,t,a){"use strict";t.a={domain:"https://damp-river-04072.herokuapp.com",METHOD:{GET:"get",POST:"post",PUT:"put",DELETE:"delete"},limit:10}},621:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(617),r=a.n(n),c=a(618),s=a(156),u=a(157),l=a(625),i=a.n(l),o=null,m=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,[{key:"startRequest",value:function(){var e=Object(c.a)(r.a.mark((function e(t,a,n){var c,s,u,l=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.length>3&&void 0!==l[3]?l[3]:"",e.prev=1,s=localStorage.getItem("access_token")||"",i.a.defaults.headers.common["Content-Type"]="application/json",e.next=6,i()({method:t,url:a,data:n,params:c,headers:{authorization:"Bearer ".concat(s)}});case 6:return u=e.sent,e.abrupt("return",u.data);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()}],[{key:"getInstance",value:function(){return null==o&&(o=new e),o}}]),e}()},629:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(617),r=a.n(n),c=a(618),s=a(156),u=a(157),l=a(620),i=a(621),o=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"login",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(l.a.METHOD.POST,"".concat(l.a.domain,"/api/users/login"),t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListManager",value:function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.getInstance().startRequest(l.a.METHOD.GET,"".concat(l.a.domain,"/api/users/all"),{},t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()},678:function(e,t,a){"use strict";a.r(t);var n=a(617),r=a.n(n),c=a(618),s=a(631),u=a(622),l=a(1),i=a.n(l),o=a(630),m=a.n(o),p=a(615),d=a(629),f=a(620),h=function(e){switch(e){case"Active":return"success";case"Banned":return"danger";default:return"primary"}},b=[{key:"stt",label:"STT",_style:{width:"1%"}},{key:"name",label:"H\u1ecd v\xe0 t\xean"},{key:"username",label:"T\xean \u0111\u0103ng nh\u1eadp"},{key:"email",label:"Email"},{key:"phone_number",label:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"},{key:"address",label:"\u0110\u1ecba ch\u1ec9"},{key:"status",label:"Tr\u1ea1ng th\xe1i"},{key:"show_details",label:"",_style:{width:"1%"},sorter:!1,filter:!1}];t.default=function(){var e=Object(l.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],o=Object(l.useState)(!1),v=Object(u.a)(o,2),E=v[0],g=v[1],k=Object(l.useState)(null),y=Object(u.a)(k,2),O=y[0],w=y[1],j=Object(l.useState)([]),T=Object(u.a)(j,2),x=T[0],S=T[1];return Object(l.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,d.a.getListManager();case 4:(t=e.sent)&&t.data&&(a=t.data.users.map((function(e,t){return{stt:t+1,name:e.info.name,username:e.username,email:e.email,phone_number:e.info.phone_number,address:e.info.address,status:e.active?"Active":"Banned",register_at:m()(e.register_at).local().format("DD/MM/YYYY HH:mm")}})),n(a)),g(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),w(e.t0.response.data.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(p.L,null,i.a.createElement(p.j,{xs:"12",lg:"12"},i.a.createElement(p.f,null,i.a.createElement(p.i,null,i.a.createElement("strong",null,"Danh s\xe1ch qu\u1ea3n l\xfd")),i.a.createElement(p.g,{className:"text-center"},E?i.a.createElement(p.U,{style:{width:"4rem",height:"4rem"},color:"info"}):i.a.createElement(p.n,{items:a,fields:b,itemsPerPage:f.a.limit,tableFilter:!0,columnFilter:!0,hover:!0,pagination:!0,scopedSlots:{status:function(e){return i.a.createElement("td",null,i.a.createElement(p.a,{color:h(e.status)},e.status))},show_details:function(e,t){return i.a.createElement("td",{className:"py-2"},i.a.createElement(p.e,{color:"primary",variant:"outline",shape:"square",size:"sm",onClick:function(){!function(e){var t=x.indexOf(e),a=x.slice();-1!==t?a.splice(t,1):a=[].concat(Object(s.a)(x),[e]),S(a)}(t)}},x.includes(t)?"Hide":"Show"))},details:function(e,t){return i.a.createElement(p.k,{show:x.includes(t)},i.a.createElement(p.g,null,i.a.createElement("h4",null,e.name),i.a.createElement("p",{className:"text-muted"},"Updated at: ",e.register_at),i.a.createElement(p.e,{size:"sm",color:"info"},"Update"),i.a.createElement(p.e,{size:"sm",color:"danger",className:"ml-1"},"Ban")))}}}))))),i.a.createElement(p.Z,{position:"bottom-right"},i.a.createElement(p.W,{show:Boolean(O),autohide:3e3,fade:!0,style:{backgroundColor:"#e55353"}},i.a.createElement(p.Y,{closeButton:!0},"Th\xf4ng b\xe1o"),i.a.createElement(p.X,null,O))))}}}]);
//# sourceMappingURL=7.5e064ecb.chunk.js.map